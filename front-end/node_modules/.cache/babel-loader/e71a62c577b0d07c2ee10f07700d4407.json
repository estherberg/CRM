{"ast":null,"code":"import _objectSpread from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Projet Code\\\\Ouieqare-MERN - Copie\\\\front-end\\\\src\\\\views\\\\examples\\\\NouveauClient.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col } from \"reactstrap\";\n\nvar NouveauClient = function NouveauClient() {\n  _s();\n\n  var history = useHistory();\n\n  var _useState = useState({\n    nom: \"\",\n    prenom: \"\",\n    dateNaissance: \"\",\n    mutuelle: \"\",\n    numeroSecu: \"\",\n    email: \"\",\n    telephoneFixe: \"\",\n    telephonePortable: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    ville: \"\",\n    statut: \"\",\n    dateRDV: \"\",\n    heureRDV: \"\",\n    bilanAuditif: \"\",\n    note: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      client = _useState2[0],\n      setClient = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var validateForm = function validateForm() {\n    var tempErrors = {};\n    var formIsValid = true;\n\n    if (!client.nom.trim()) {\n      formIsValid = false;\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\n    }\n\n    if (!client.email.trim()) {\n      formIsValid = false;\n      tempErrors[\"email\"] = \"L'email est requis.\";\n    }\n\n    setErrors(tempErrors);\n    return formIsValid;\n  };\n\n  var saveClient = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(clientData) {\n      var response, errorText, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (validateForm()) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.prev = 2;\n              _context.next = 5;\n              return fetch('http://localhost:5100/api/clients/add', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': \"Bearer \".concat(localStorage.getItem('token'))\n                },\n                body: JSON.stringify(clientData)\n              });\n\n            case 5:\n              response = _context.sent;\n\n              if (response.ok) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 9;\n              return response.text();\n\n            case 9:\n              errorText = _context.sent;\n              throw new Error(\"HTTP status \".concat(response.status, \": \").concat(errorText));\n\n            case 11:\n              _context.next = 13;\n              return response.json();\n\n            case 13:\n              data = _context.sent;\n              console.log('Client ajouté avec succès', data);\n              history.push('/admin/clients');\n              _context.next = 21;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('Erreur lors de la connexion au serveur', _context.t0);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 18]]);\n    }));\n\n    return function saveClient(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setClient(_objectSpread(_objectSpread({}, client), {}, {\n      [name]: value\n    })); // Clear errors\n\n    if (!!errors[name]) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      [name]: null\n    }));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (validateForm()) {\n      saveClient(client);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '50px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Ajouter un Nouveau Client\"), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"nom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"nom\",\n    id: \"nom\",\n    value: client.nom,\n    onChange: handleInputChange,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), errors.nom && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 32\n    }\n  }, errors.nom))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"prenom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"prenom\",\n    id: \"prenom\",\n    value: client.prenom,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    value: client.email,\n    onChange: handleInputChange,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 34\n    }\n  }, errors.email)), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Enregistrer\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"secondary\",\n    onClick: function onClick() {\n      return history.push('/admin/clients');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, \"Annuler\"))))));\n};\n\n_s(NouveauClient, \"FoMNXuUjlErDvBBNrefu557MMmQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = NouveauClient;\nexport default NouveauClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"NouveauClient\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/src/views/examples/NouveauClient.js"],"names":["React","useState","useHistory","Button","Card","CardBody","CardHeader","Form","FormGroup","Input","Label","Container","Row","Col","NouveauClient","history","nom","prenom","dateNaissance","mutuelle","numeroSecu","email","telephoneFixe","telephonePortable","adresse","codePostal","ville","statut","dateRDV","heureRDV","bilanAuditif","note","client","setClient","errors","setErrors","validateForm","tempErrors","formIsValid","trim","saveClient","clientData","fetch","method","headers","localStorage","getItem","body","JSON","stringify","response","ok","text","errorText","Error","status","json","data","console","log","push","error","handleInputChange","e","target","name","value","handleSubmit","preventDefault","paddingTop","color"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SACEC,MADF,EACUC,IADV,EACgBC,QADhB,EAC0BC,UAD1B,EACsCC,IADtC,EAC4CC,SAD5C,EACuDC,KADvD,EAC8DC,KAD9D,EACqEC,SADrE,EACgFC,GADhF,EACqFC,GADrF,QAEO,YAFP;;AAIA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA;;AAC1B,MAAMC,OAAO,GAAGb,UAAU,EAA1B;;AAD0B,kBAEED,QAAQ,CAAC;AACnCe,IAAAA,GAAG,EAAE,EAD8B;AAEnCC,IAAAA,MAAM,EAAE,EAF2B;AAGnCC,IAAAA,aAAa,EAAE,EAHoB;AAInCC,IAAAA,QAAQ,EAAE,EAJyB;AAKnCC,IAAAA,UAAU,EAAE,EALuB;AAMnCC,IAAAA,KAAK,EAAE,EAN4B;AAOnCC,IAAAA,aAAa,EAAE,EAPoB;AAQnCC,IAAAA,iBAAiB,EAAE,EARgB;AASnCC,IAAAA,OAAO,EAAE,EAT0B;AAUnCC,IAAAA,UAAU,EAAE,EAVuB;AAWnCC,IAAAA,KAAK,EAAE,EAX4B;AAYnCC,IAAAA,MAAM,EAAE,EAZ2B;AAanCC,IAAAA,OAAO,EAAE,EAb0B;AAcnCC,IAAAA,QAAQ,EAAE,EAdyB;AAenCC,IAAAA,YAAY,EAAE,EAfqB;AAgBnCC,IAAAA,IAAI,EAAE;AAhB6B,GAAD,CAFV;AAAA;AAAA,MAEnBC,MAFmB;AAAA,MAEXC,SAFW;;AAAA,mBAoBEhC,QAAQ,CAAC,EAAD,CApBV;AAAA;AAAA,MAoBnBiC,MApBmB;AAAA,MAoBXC,SApBW;;AAsB1B,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,WAAW,GAAG,IAAlB;;AAEA,QAAI,CAACN,MAAM,CAAChB,GAAP,CAAWuB,IAAX,EAAL,EAAwB;AACtBD,MAAAA,WAAW,GAAG,KAAd;AACAD,MAAAA,UAAU,CAAC,KAAD,CAAV,GAAoB,oBAApB;AACD;;AAED,QAAI,CAACL,MAAM,CAACX,KAAP,CAAakB,IAAb,EAAL,EAA0B;AACxBD,MAAAA,WAAW,GAAG,KAAd;AACAD,MAAAA,UAAU,CAAC,OAAD,CAAV,GAAsB,qBAAtB;AACD;;AAEDF,IAAAA,SAAS,CAACE,UAAD,CAAT;AACA,WAAOC,WAAP;AACD,GAhBD;;AAkBA,MAAME,UAAU;AAAA,wEAAG,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZL,YAAY,EADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,qBAMQM,KAAK,CAAC,uCAAD,EAA0C;AACpEC,gBAAAA,MAAM,EAAE,MAD4D;AAEpEC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEP,oDAA2BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3B;AAFO,iBAF2D;AAMpEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,UAAf;AAN8D,eAA1C,CANb;;AAAA;AAMTS,cAAAA,QANS;;AAAA,kBAeVA,QAAQ,CAACC,EAfC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAgBWD,QAAQ,CAACE,IAAT,EAhBX;;AAAA;AAgBPC,cAAAA,SAhBO;AAAA,oBAiBP,IAAIC,KAAJ,uBAAyBJ,QAAQ,CAACK,MAAlC,eAA6CF,SAA7C,EAjBO;;AAAA;AAAA;AAAA,qBAoBIH,QAAQ,CAACM,IAAT,EApBJ;;AAAA;AAoBTC,cAAAA,IApBS;AAqBfC,cAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,IAAzC;AACA1C,cAAAA,OAAO,CAAC6C,IAAR,CAAa,gBAAb;AAtBe;AAAA;;AAAA;AAAA;AAAA;AAwBfF,cAAAA,OAAO,CAACG,KAAR,CAAc,wCAAd;;AAxBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVrB,UAAU;AAAA;AAAA;AAAA,KAAhB;;AA4BA,MAAMsB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAO;AAAA,oBACPA,CAAC,CAACC,MADK;AAAA,QACvBC,IADuB,aACvBA,IADuB;AAAA,QACjBC,KADiB,aACjBA,KADiB;AAE/BjC,IAAAA,SAAS,iCAAMD,MAAN;AAAc,OAACiC,IAAD,GAAQC;AAAtB,OAAT,CAF+B,CAG/B;;AACA,QAAI,CAAC,CAAChC,MAAM,CAAC+B,IAAD,CAAZ,EAAoB9B,SAAS,iCAAMD,MAAN;AAAc,OAAC+B,IAAD,GAAQ;AAAtB,OAAT;AACrB,GALD;;AAOA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACJ,CAAD,EAAO;AAC1BA,IAAAA,CAAC,CAACK,cAAF;;AACA,QAAIhC,YAAY,EAAhB,EAAoB;AAClBI,MAAAA,UAAU,CAACR,MAAD,CAAV;AACD;AACF,GALD;;AAOA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEqC,MAAAA,UAAU,EAAE;AAAd,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,eAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEF,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,KAAxB;AAA8B,IAAA,EAAE,EAAC,KAAjC;AAAuC,IAAA,KAAK,EAAEnC,MAAM,CAAChB,GAArD;AAA0D,IAAA,QAAQ,EAAE8C,iBAApE;AAAuF,IAAA,QAAQ,MAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGG5B,MAAM,CAAClB,GAAP,iBAAc;AAAG,IAAA,KAAK,EAAE;AAAEsD,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BpC,MAAM,CAAClB,GAApC,CAHjB,CADA,CAFF,eASE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,QAAxB;AAAiC,IAAA,EAAE,EAAC,QAApC;AAA6C,IAAA,KAAK,EAAEgB,MAAM,CAACf,MAA3D;AAAmE,IAAA,QAAQ,EAAE6C,iBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADA,CATF,eAgBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,IAAI,EAAC,OAAzB;AAAiC,IAAA,EAAE,EAAC,OAApC;AAA4C,IAAA,KAAK,EAAE9B,MAAM,CAACX,KAA1D;AAAiE,IAAA,QAAQ,EAAEyC,iBAA3E;AAA8F,IAAA,QAAQ,MAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGG5B,MAAM,CAACb,KAAP,iBAAgB;AAAG,IAAA,KAAK,EAAE;AAAEiD,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BpC,MAAM,CAACb,KAApC,CAHnB,CAhBF,eAwBE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAxBF,eAyBE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,WAA5B;AAAwC,IAAA,OAAO,EAAE;AAAA,aAAMN,OAAO,CAAC6C,IAAR,CAAa,gBAAb,CAAN;AAAA,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAzBF,CADF,CAFF,CADF,CADF,CADF;AAsCD,CAxHD;;GAAM9C,a;UACYZ,U;;;KADZY,a;AA0HN,eAAeA,aAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col\r\n} from \"reactstrap\";\r\n\r\nconst NouveauClient = () => {\r\n  const history = useHistory();\r\n  const [client, setClient] = useState({\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    dateNaissance: \"\",\r\n    mutuelle: \"\",\r\n    numeroSecu: \"\",\r\n    email: \"\",\r\n    telephoneFixe: \"\",\r\n    telephonePortable: \"\",\r\n    adresse: \"\",\r\n    codePostal: \"\",\r\n    ville: \"\",\r\n    statut: \"\",\r\n    dateRDV: \"\",\r\n    heureRDV: \"\",\r\n    bilanAuditif: \"\",\r\n    note: \"\"\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const validateForm = () => {\r\n    let tempErrors = {};\r\n    let formIsValid = true;\r\n\r\n    if (!client.nom.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\r\n    }\r\n\r\n    if (!client.email.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"email\"] = \"L'email est requis.\";\r\n    }\r\n\r\n    setErrors(tempErrors);\r\n    return formIsValid;\r\n  };\r\n\r\n  const saveClient = async (clientData) => {\r\n    if (!validateForm()) {\r\n      return; // Stop the function if validation fails\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5100/api/clients/add', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(clientData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP status ${response.status}: ${errorText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Client ajouté avec succès', data);\r\n      history.push('/admin/clients');\r\n    } catch (error) {\r\n      console.error('Erreur lors de la connexion au serveur', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setClient({ ...client, [name]: value });\r\n    // Clear errors\r\n    if (!!errors[name]) setErrors({ ...errors, [name]: null });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      saveClient(client);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingTop: '50px' }}>\r\n      <Container className=\"mt-5\">\r\n        <Card>\r\n          <CardHeader>Ajouter un Nouveau Client</CardHeader>\r\n          <CardBody>\r\n            <Form onSubmit={handleSubmit}>\r\n              {/* Nom */}\r\n              <Col md={6}>\r\n              <FormGroup>\r\n                <Label for=\"nom\">Nom</Label>\r\n                <Input type=\"text\" name=\"nom\" id=\"nom\" value={client.nom} onChange={handleInputChange} required />\r\n                {errors.nom && <p style={{ color: 'red' }}>{errors.nom}</p>}\r\n              </FormGroup>\r\n              </Col>\r\n              <Col md={6}>\r\n              <FormGroup>\r\n                  <Label for=\"prenom\">Prénom</Label>\r\n                  <Input type=\"text\" name=\"prenom\" id=\"prenom\" value={client.prenom} onChange={handleInputChange} />\r\n                </FormGroup>\r\n                </Col>\r\n              {/* Email */}\r\n              <FormGroup>\r\n                <Label for=\"email\">Email</Label>\r\n                <Input type=\"email\" name=\"email\" id=\"email\" value={client.email} onChange={handleInputChange} required />\r\n                {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\r\n              </FormGroup>\r\n\r\n              {/* Ajoutez d'autres champs ici */}\r\n\r\n              <Button type=\"submit\" color=\"primary\">Enregistrer</Button>\r\n              <Button type=\"button\" color=\"secondary\" onClick={() => history.push('/admin/clients')}>Annuler</Button>\r\n            </Form>\r\n          </CardBody>\r\n        </Card>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NouveauClient;\r\n"]},"metadata":{},"sourceType":"module"}