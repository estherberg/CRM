{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/esthe/OneDrive/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/esthe/OneDrive/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:/Users/esthe/OneDrive/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/esthe/OneDrive/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\esthe\\\\OneDrive\\\\Desktop\\\\Projet Code\\\\Ouieqare-MERN - Copie\\\\front-end\\\\src\\\\views\\\\examples\\\\NouveauClient.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col, UncontrolledAlert, Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\nimport classnames from 'classnames';\n\nfunction formatDate(dateString) {\n  var date = new Date(dateString);\n  var year = date.getFullYear();\n  var month = ('0' + (date.getMonth() + 1)).slice(-2);\n  var day = ('0' + date.getDate()).slice(-2);\n  return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n}\n\nvar NouveauClient = function NouveauClient() {\n  _s();\n\n  var history = useHistory();\n  var location = useLocation();\n\n  var _useState = useState({\n    nom: \"\",\n    prenom: \"\",\n    dateNaissance: \"\",\n    mutuelle: \"\",\n    numeroSecu: \"\",\n    email: \"\",\n    telephoneFixe: \"\",\n    telephonePortable: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    ville: \"\",\n    note: \"\",\n    audiogramme: \"\",\n    statut: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      client = _useState2[0],\n      setClient = _useState2[1];\n\n  var _useState3 = useState('1'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeTab = _useState4[0],\n      setActiveTab = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      audiogrammeSuccessMessage = _useState6[0],\n      setAudiogrammeSuccessMessage = _useState6[1];\n\n  useEffect(function () {\n    // Si un client est passé dans l'état, utilisez ses valeurs pour initialiser le formulaire\n    if (location.state && location.state.client) {\n      var formattedClient = _objectSpread(_objectSpread({}, location.state.client), {}, {\n        dateNaissance: formatDate(location.state.client.dateNaissance)\n      });\n\n      setClient(formattedClient);\n    }\n  }, [location.state]);\n\n  var toggleTab = function toggleTab(tab) {\n    if (activeTab !== tab) setActiveTab(tab);\n  };\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errors = _useState8[0],\n      setErrors = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      successMessage = _useState10[0],\n      setSuccessMessage = _useState10[1];\n\n  var isMounted = useRef(false);\n  useEffect(function () {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false; // Nettoyage en démontant le composant\n    };\n  }, []);\n\n  var validateForm = function validateForm() {\n    var tempErrors = {};\n    var formIsValid = true;\n\n    if (!client.nom.trim()) {\n      formIsValid = false;\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\n    }\n\n    if (!client.email.trim()) {\n      formIsValid = false;\n      tempErrors[\"email\"] = \"L'email est requis.\";\n    }\n\n    setErrors(tempErrors);\n    return formIsValid;\n  }; //   const saveClient = async (clientData) => {\n  //     const url = clientData._id ? `http://localhost:5100/api/clients/${clientData._id}` : 'http://localhost:5100/api/clients/add';\n  //     const method = clientData._id ? 'PUT' : 'POST';\n  //     try {\n  //         const response = await fetch(url, {\n  //             method: method,\n  //             headers: {\n  //                 'Content-Type': 'application/json',\n  //                 'Authorization': localStorage.getItem('token')\n  //             },\n  //             body: JSON.stringify(clientData)\n  //         });\n  //         if (!response.ok) {\n  //           const data = await response.json();\n  //           toast.error(`Erreur: ${data.message}`);\n  //       } else {\n  //           const data = await response.json();\n  //           toast.success(\"Le client a été ajouté/modifié avec succès !\");\n  //           setTimeout(() => {\n  //               history.push('/admin/clients');\n  //           }, 3000);\n  //       }\n  //   } catch (error) {\n  //       console.error('Erreur lors de l\\'opération sur le client:', error);\n  //       toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\n  //   }\n  // };\n\n\n  var saveClient = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(clientData) {\n      var url, method, response, _data, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = clientData._id ? \"http://localhost:5100/api/clients/\".concat(clientData._id) : 'http://localhost:5100/api/clients/add';\n              method = clientData._id ? 'PUT' : 'POST';\n              console.log('Envoi des données du client:', clientData); // Log des données envoyées\n\n              _context.prev = 3;\n              _context.next = 6;\n              return fetch(url, {\n                method: method,\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': localStorage.getItem('token')\n                },\n                body: JSON.stringify(clientData)\n              });\n\n            case 6:\n              response = _context.sent;\n              console.log('Statut de la réponse:', response.status); // Log du statut de réponse HTTP\n\n              if (response.ok) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.next = 11;\n              return response.json();\n\n            case 11:\n              _data = _context.sent;\n              console.log('Erreur lors de l\\'enregistrement:', _data); // Log de l'erreur\n\n              toast.error(\"Erreur: \".concat(_data.message));\n              return _context.abrupt(\"return\");\n\n            case 15:\n              _context.next = 17;\n              return response.json();\n\n            case 17:\n              data = _context.sent;\n              console.log('Réponse du serveur:', data); // Log de la réponse\n\n              toast.success(\"Le client a été ajouté/modifié avec succès !\");\n              setTimeout(function () {\n                history.push('/admin/clients');\n              }, 3000);\n              _context.next = 27;\n              break;\n\n            case 23:\n              _context.prev = 23;\n              _context.t0 = _context[\"catch\"](3);\n              console.error('Erreur lors de l\\'opération sur le client:', _context.t0);\n              toast.error(\"Erreur lors de l'op\\xE9ration sur le client: \".concat(_context.t0.message));\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 23]]);\n    }));\n\n    return function saveClient(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setClient(_objectSpread(_objectSpread({}, client), {}, {\n      [name]: value\n    })); // Clear errors\n\n    if (!!errors[name]) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      [name]: null\n    }));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (validateForm()) {\n      saveClient(client);\n    }\n  };\n\n  var handleSubmitAudiogramme = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var audiogrammeData, url, method, response, errorText, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              audiogrammeData = _objectSpread(_objectSpread({}, client), {}, {\n                audiogramme: client.audiogramme\n              });\n              url = client._id ? \"http://localhost:5100/api/clients/\".concat(client._id) : 'http://localhost:5100/api/clients/add';\n              method = client._id ? 'PUT' : 'POST';\n              _context2.prev = 4;\n              _context2.next = 7;\n              return fetch(url, {\n                method: method,\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': localStorage.getItem('token')\n                },\n                body: JSON.stringify(audiogrammeData)\n              });\n\n            case 7:\n              response = _context2.sent;\n\n              if (response.ok) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.next = 11;\n              return response.text();\n\n            case 11:\n              errorText = _context2.sent;\n              throw new Error(\"HTTP status \".concat(response.status, \": \").concat(errorText));\n\n            case 13:\n              _context2.next = 15;\n              return response.json();\n\n            case 15:\n              data = _context2.sent;\n              console.log('Opération réussie:', data);\n              setAudiogrammeSuccessMessage(\"Le bilan auditif a été enregistré avec succès.\");\n              setTimeout(function () {\n                setAudiogrammeSuccessMessage(\"\");\n                history.push('/admin/clients'); // Redirection après l'affichage du message de succès\n              }, 3000); // Affichage du message pendant 3 secondes\n\n              _context2.next = 25;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t0 = _context2[\"catch\"](4);\n              console.error(\"Erreur lors de l'enregistrement du bilan auditif:\", _context2.t0);\n              setErrors({\n                form: \"Erreur lors de l'opération sur le bilan auditif.\"\n              });\n\n            case 25:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[4, 21]]);\n    }));\n\n    return function handleSubmitAudiogramme(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return (\n    /*#__PURE__*/\n    // <div style={{ paddingTop: '50px', backgroundColor: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%) !important' }}>\n    React.createElement(\"div\", {\n      style: {\n        paddingTop: '50px',\n        background: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%)'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      className: \"mt-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      position: \"bottom-left\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(CardHeader, {\n      className: \"bg-white text-white\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, client._id ? \"Modifier Client\" : \"Ajouter Nouveau Client\")), /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      tabs: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: activeTab === '1'\n      }),\n      onClick: function onClick() {\n        toggleTab('1');\n      },\n      style: {\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, \"Informations G\\xE9n\\xE9rales\")), /*#__PURE__*/React.createElement(NavItem, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: classnames({\n        active: activeTab === '2'\n      }),\n      onClick: function onClick() {\n        toggleTab('2');\n      },\n      style: {\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }, \"Bilan Auditif\"))), /*#__PURE__*/React.createElement(TabContent, {\n      activeTab: activeTab,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, successMessage && /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      color: \"success\",\n      className: \"fixed-alert\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1050\n      },\n      fade: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"alert-inner--icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ni ni-like-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"alert-inner--text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, \"Succ\\xE8s!\"), \" \", successMessage)), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      form: true,\n      style: {\n        paddingTop: '50px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"nom\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, \"Nom\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"nom\",\n      id: \"nom\",\n      value: client.nom,\n      onChange: handleInputChange,\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 21\n      }\n    }), errors.nom && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 36\n      }\n    }, errors.nom))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"prenom\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"prenom\",\n      id: \"prenom\",\n      value: client.prenom,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      form: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"dateNaissance\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, \"Date de Naissance\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"date\",\n      name: \"dateNaissance\",\n      id: \"dateNaissance\",\n      value: client.dateNaissance || '',\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"mutuelle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 21\n      }\n    }, \"Mutuelle\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"mutuelle\",\n      id: \"mutuelle\",\n      value: client.mutuelle,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"numeroSecu\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }\n    }, \"Num\\xE9ro de S\\xE9curit\\xE9 Sociale\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"numeroSecu\",\n      id: \"numeroSecu\",\n      value: client.numeroSecu,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      form: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"statut\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 3\n      }\n    }, \"Statut\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"statut\",\n      id: \"statut\",\n      value: client.statut,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }\n    }, \"S\\xE9lectionner un statut\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Rdv fix\\xE9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 5\n      }\n    }, \"Rdv fix\\xE9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Rdv Annul\\xE9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 5\n      }\n    }, \"Rdv Annul\\xE9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Appareill\\xE9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 5\n      }\n    }, \"Appareill\\xE9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"P\\xE9riode d'essai\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 5\n      }\n    }, \"P\\xE9riode d'essai\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Factur\\xE9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 5\n      }\n    }, \"Factur\\xE9\"))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"telephoneFixe\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }\n    }, \"T\\xE9l\\xE9phone Fixe\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"telephoneFixe\",\n      id: \"telephoneFixe\",\n      value: client.telephoneFixe,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"telephonePortable\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, \"T\\xE9l\\xE9phone Portable\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"telephonePortable\",\n      id: \"telephonePortable\",\n      value: client.telephonePortable,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"adresse\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }\n    }, \"Adresse\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"adresse\",\n      id: \"adresse\",\n      value: client.adresse,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      form: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"codePostal\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, \"Code Postal\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"codePostal\",\n      id: \"codePostal\",\n      value: client.codePostal,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"ville\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, \"Ville\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"ville\",\n      id: \"ville\",\n      value: client.ville,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      value: client.email,\n      onChange: handleInputChange,\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }), errors.email && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 34\n      }\n    }, errors.email)), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"note\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    }, \"Note\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"note\",\n      id: \"note\",\n      value: client.note,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }\n    }, \"Enregistrer\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"secondary\",\n      onClick: function onClick() {\n        return history.push('/admin/clients');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }\n    }, \"Annuler\"))), /*#__PURE__*/React.createElement(TabPane, {\n      tabId: \"2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }, audiogrammeSuccessMessage && /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      color: \"success\",\n      className: \"fixed-alert\",\n      fade: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"alert-inner--icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ni ni-like-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 43\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"alert-inner--text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 43\n      }\n    }, \"Succ\\xE8s!\"), \" \", audiogrammeSuccessMessage)), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: handleSubmitAudiogramme,\n      style: {\n        paddingTop: '50px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"audiogramme\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 7\n      }\n    }, \"Audiogramme\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"audiogramme\",\n      id: \"audiogramme\",\n      value: client.audiogramme,\n      onChange: handleInputChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 5\n      }\n    }, \"Enregistrer Bilan\"))))))))\n  );\n};\n\n_s(NouveauClient, \"ISz7rsfWcIJBqNKVwBwk5we12As=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = NouveauClient;\nexport default NouveauClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"NouveauClient\");","map":{"version":3,"sources":["C:/Users/esthe/OneDrive/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/src/views/examples/NouveauClient.js"],"names":["React","useState","useRef","useEffect","useHistory","useLocation","toast","ToastContainer","Button","Card","CardBody","CardHeader","Form","FormGroup","Input","Label","Container","Row","Col","UncontrolledAlert","Nav","NavItem","NavLink","TabContent","TabPane","classnames","formatDate","dateString","date","Date","year","getFullYear","month","getMonth","slice","day","getDate","NouveauClient","history","location","nom","prenom","dateNaissance","mutuelle","numeroSecu","email","telephoneFixe","telephonePortable","adresse","codePostal","ville","note","audiogramme","statut","client","setClient","activeTab","setActiveTab","audiogrammeSuccessMessage","setAudiogrammeSuccessMessage","state","formattedClient","toggleTab","tab","errors","setErrors","successMessage","setSuccessMessage","isMounted","current","validateForm","tempErrors","formIsValid","trim","saveClient","clientData","url","_id","method","console","log","fetch","headers","localStorage","getItem","body","JSON","stringify","response","status","ok","json","data","error","message","success","setTimeout","push","handleInputChange","e","target","name","value","handleSubmit","preventDefault","handleSubmitAudiogramme","audiogrammeData","text","errorText","Error","form","paddingTop","background","active","cursor","position","top","left","right","zIndex","color"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport {\r\n  Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col, UncontrolledAlert,\r\n  Nav, NavItem, NavLink, TabContent, TabPane\r\n} from \"reactstrap\";\r\nimport classnames from 'classnames';\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = ('0' + (date.getMonth() + 1)).slice(-2);\r\n  const day = ('0' + date.getDate()).slice(-2);\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nconst NouveauClient = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [client, setClient] = useState({\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    dateNaissance: \"\",\r\n    mutuelle: \"\",\r\n    numeroSecu: \"\",\r\n    email: \"\",\r\n    telephoneFixe: \"\",\r\n    telephonePortable: \"\",\r\n    adresse: \"\",\r\n    codePostal: \"\",\r\n    ville: \"\",\r\n    note: \"\",\r\n    audiogramme: \"\",\r\n    statut: \"\" \r\n  });\r\n  const [activeTab, setActiveTab] = useState('1');\r\n  const [audiogrammeSuccessMessage, setAudiogrammeSuccessMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Si un client est passé dans l'état, utilisez ses valeurs pour initialiser le formulaire\r\n    if (location.state && location.state.client) {\r\n      const formattedClient = {\r\n        ...location.state.client,\r\n        dateNaissance: formatDate(location.state.client.dateNaissance)\r\n      };\r\n      setClient(formattedClient);\r\n    }\r\n  }, [location.state]);\r\n\r\n  const toggleTab = tab => {\r\n    if(activeTab !== tab) setActiveTab(tab);\r\n  };\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const isMounted = useRef(false);\r\n\r\nuseEffect(() => {\r\n  isMounted.current = true;\r\n  return () => {\r\n    isMounted.current = false;  // Nettoyage en démontant le composant\r\n  };\r\n}, []);\r\n\r\n  const validateForm = () => {\r\n    let tempErrors = {};\r\n    let formIsValid = true;\r\n\r\n    if (!client.nom.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\r\n    }\r\n\r\n    if (!client.email.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"email\"] = \"L'email est requis.\";\r\n    }\r\n\r\n    setErrors(tempErrors);\r\n    return formIsValid;\r\n  };\r\n\r\n//   const saveClient = async (clientData) => {\r\n//     const url = clientData._id ? `http://localhost:5100/api/clients/${clientData._id}` : 'http://localhost:5100/api/clients/add';\r\n//     const method = clientData._id ? 'PUT' : 'POST';\r\n\r\n//     try {\r\n//         const response = await fetch(url, {\r\n//             method: method,\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Authorization': localStorage.getItem('token')\r\n//             },\r\n//             body: JSON.stringify(clientData)\r\n//         });\r\n\r\n//         if (!response.ok) {\r\n//           const data = await response.json();\r\n//           toast.error(`Erreur: ${data.message}`);\r\n//       } else {\r\n//           const data = await response.json();\r\n//           toast.success(\"Le client a été ajouté/modifié avec succès !\");\r\n//           setTimeout(() => {\r\n//               history.push('/admin/clients');\r\n//           }, 3000);\r\n//       }\r\n//   } catch (error) {\r\n//       console.error('Erreur lors de l\\'opération sur le client:', error);\r\n//       toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\r\n//   }\r\n// };\r\n\r\nconst saveClient = async (clientData) => {\r\n  const url = clientData._id ? `http://localhost:5100/api/clients/${clientData._id}` : 'http://localhost:5100/api/clients/add';\r\n  const method = clientData._id ? 'PUT' : 'POST';\r\n\r\n  console.log('Envoi des données du client:', clientData);  // Log des données envoyées\r\n\r\n  try {\r\n      const response = await fetch(url, {\r\n          method: method,\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': localStorage.getItem('token')\r\n          },\r\n          body: JSON.stringify(clientData)\r\n      });\r\n\r\n      console.log('Statut de la réponse:', response.status);  // Log du statut de réponse HTTP\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        console.log('Erreur lors de l\\'enregistrement:', data);  // Log de l'erreur\r\n        toast.error(`Erreur: ${data.message}`);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Réponse du serveur:', data);  // Log de la réponse\r\n      toast.success(\"Le client a été ajouté/modifié avec succès !\");\r\n      setTimeout(() => {\r\n          history.push('/admin/clients');\r\n      }, 3000);\r\n  } catch (error) {\r\n      console.error('Erreur lors de l\\'opération sur le client:', error);\r\n      toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setClient({ ...client, [name]: value });\r\n    // Clear errors\r\n    if (!!errors[name]) setErrors({ ...errors, [name]: null });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      saveClient(client);\r\n    }\r\n  };\r\n  const handleSubmitAudiogramme = async (e) => {\r\n    e.preventDefault();\r\n    const audiogrammeData = {\r\n      ...client,\r\n      audiogramme: client.audiogramme\r\n    };\r\n  \r\n    const url = client._id ? `http://localhost:5100/api/clients/${client._id}` : 'http://localhost:5100/api/clients/add';\r\n    const method = client._id ? 'PUT' : 'POST';\r\n  \r\n    try {\r\n      const response = await fetch(url, {\r\n        method: method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': localStorage.getItem('token')\r\n        },\r\n        body: JSON.stringify(audiogrammeData)\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP status ${response.status}: ${errorText}`);\r\n      }\r\n  \r\n      const data = await response.json();\r\n      console.log('Opération réussie:', data);\r\n      setAudiogrammeSuccessMessage(\"Le bilan auditif a été enregistré avec succès.\");\r\n      setTimeout(() => {\r\n        setAudiogrammeSuccessMessage(\"\");\r\n        history.push('/admin/clients'); // Redirection après l'affichage du message de succès\r\n      }, 3000); // Affichage du message pendant 3 secondes\r\n  \r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l'enregistrement du bilan auditif:\", error);\r\n      setErrors({ form: \"Erreur lors de l'opération sur le bilan auditif.\" });\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    // <div style={{ paddingTop: '50px', backgroundColor: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%) !important' }}>\r\n       <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%)' }}>\r\n    <Container className=\"mt-5\">\r\n      <Card>\r\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n      <CardHeader className=\"bg-white text-white\">\r\n            <h4 className=\"mb-0\">{client._id ? \"Modifier Client\" : \"Ajouter Nouveau Client\"}</h4>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Nav tabs>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '1' })}\r\n                  onClick={() => { toggleTab('1'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Informations Générales\r\n                </NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '2' })}\r\n                  onClick={() => { toggleTab('2'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Bilan Auditif\r\n                </NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          <TabContent activeTab={activeTab}>\r\n            <TabPane tabId=\"1\">\r\n              {/* Votre formulaire existant ici */}\r\n              {successMessage && (\r\n                <UncontrolledAlert color=\"success\" className=\"fixed-alert\" style={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 1050 }} fade={false}>\r\n                  <span className=\"alert-inner--icon\">\r\n                    <i className=\"ni ni-like-2\" />\r\n                  </span>\r\n                  <span className=\"alert-inner--text\">\r\n                    <strong>Succès!</strong> {successMessage}\r\n                  </span>\r\n                </UncontrolledAlert>\r\n              )}\r\n              <Form onSubmit={handleSubmit}>\r\n              <Row form style={{ paddingTop: '50px' }}>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"nom\">Nom</Label>\r\n                    <Input type=\"text\" name=\"nom\" id=\"nom\" value={client.nom} onChange={handleInputChange} required />\r\n                    {errors.nom && <p style={{ color: 'red' }}>{errors.nom}</p>}\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"prenom\">Prénom</Label>\r\n                    <Input type=\"text\" name=\"prenom\" id=\"prenom\" value={client.prenom} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <Row form>\r\n                <Col md={4}>\r\n                <FormGroup>\r\n                    <Label for=\"dateNaissance\">Date de Naissance</Label>\r\n                    <Input type=\"date\" name=\"dateNaissance\" id=\"dateNaissance\" value={client.dateNaissance || ''} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"mutuelle\">Mutuelle</Label>\r\n                    <Input type=\"text\" name=\"mutuelle\" id=\"mutuelle\" value={client.mutuelle} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"numeroSecu\">Numéro de Sécurité Sociale</Label>\r\n                    <Input type=\"text\" name=\"numeroSecu\" id=\"numeroSecu\" value={client.numeroSecu} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <Row form>\r\n              <FormGroup>\r\n  <Label for=\"statut\">Statut</Label>\r\n  <Input type=\"select\" name=\"statut\" id=\"statut\" value={client.statut} onChange={handleInputChange}>\r\n    <option value=\"\">Sélectionner un statut</option>\r\n    <option value=\"Rdv fixé\">Rdv fixé</option>\r\n    <option value=\"Rdv Annulé\">Rdv Annulé</option>\r\n    <option value=\"Appareillé\">Appareillé</option>\r\n    <option value=\"Période d'essai\">Période d'essai</option>\r\n    <option value=\"Facturé\">Facturé</option>\r\n  </Input>\r\n</FormGroup>\r\n\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephoneFixe\">Téléphone Fixe</Label>\r\n                    <Input type=\"text\" name=\"telephoneFixe\" id=\"telephoneFixe\" value={client.telephoneFixe} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephonePortable\">Téléphone Portable</Label>\r\n                    <Input type=\"text\" name=\"telephonePortable\" id=\"telephonePortable\" value={client.telephonePortable} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"adresse\">Adresse</Label>\r\n                <Input type=\"text\" name=\"adresse\" id=\"adresse\" value={client.adresse} onChange={handleInputChange} />\r\n              </FormGroup>\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"codePostal\">Code Postal</Label>\r\n                    <Input type=\"text\" name=\"codePostal\" id=\"codePostal\" value={client.codePostal} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"ville\">Ville</Label>\r\n                    <Input type=\"text\" name=\"ville\" id=\"ville\" value={client.ville} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"email\">Email</Label>\r\n                <Input type=\"email\" name=\"email\" id=\"email\" value={client.email} onChange={handleInputChange} required />\r\n                {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label for=\"note\">Note</Label>\r\n                <Input type=\"textarea\" name=\"note\" id=\"note\" value={client.note} onChange={handleInputChange} />\r\n              </FormGroup>\r\n                <Button type=\"submit\" color=\"primary\">Enregistrer</Button>\r\n                <Button type=\"button\" color=\"secondary\" onClick={() => history.push('/admin/clients')}>Annuler</Button>\r\n              </Form>\r\n            </TabPane>\r\n            <TabPane tabId=\"2\">\r\n  {audiogrammeSuccessMessage && (\r\n    <UncontrolledAlert color=\"success\" className=\"fixed-alert\" fade={false}>\r\n      <span className=\"alert-inner--icon\"><i className=\"ni ni-like-2\" /></span>\r\n      <span className=\"alert-inner--text\"><strong>Succès!</strong> {audiogrammeSuccessMessage}</span>\r\n    </UncontrolledAlert>\r\n  )}\r\n  <Form onSubmit={handleSubmitAudiogramme} style={{ paddingTop: '50px' }}>\r\n    <FormGroup>\r\n      <Label for=\"audiogramme\">Audiogramme</Label>\r\n      <Input type=\"text\" name=\"audiogramme\" id=\"audiogramme\" value={client.audiogramme} onChange={handleInputChange} />\r\n    </FormGroup>\r\n    {/* Ajoutez plus de champs selon vos besoins ici */}\r\n    <Button type=\"submit\" color=\"primary\">Enregistrer Bilan</Button>\r\n  </Form>\r\n</TabPane>\r\n\r\n          </TabContent>\r\n        </CardBody>\r\n      </Card>\r\n      \r\n    </Container>\r\n    \r\n    </div>\r\n  );\r\n}\r\n  \r\n\r\nexport default NouveauClient;\r\n"]},"metadata":{},"sourceType":"module"}