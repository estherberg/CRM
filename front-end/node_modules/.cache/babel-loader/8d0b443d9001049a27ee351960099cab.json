{"ast":null,"code":"import _slicedToArray from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Projet Code\\\\Ouieqare-MERN - Copie\\\\front-end\\\\src\\\\views\\\\examples\\\\Clients.js\",\n    _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Button, ButtonGroup, Card, Col, CardHeader // CardFooter,\n, Container // FormGroup,\n// Input,\n// Label,\n// Modal,\n// ModalBody,\n// ModalFooter,\n// ModalHeader,\n// Pagination,\n// PaginationItem,\n// PaginationLink,\n, Row } from \"reactstrap\";\nimport ReactToPrint from \"react-to-print\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\"; //import ReactBSAlert from \"react-bootstrap-sweetalert\";\n\nimport Header from \"components/Headers/Header.js\"; //import { dataTable } from \"variables/general\";\n\nvar Tables = function Tables() {\n  _s();\n\n  //const [modal, setModal] = useState(false);\n  //const toggleModal = () => setModal(!modal);\n  var history = useHistory();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      clients = _useState2[0],\n      setClients = _useState2[1];\n\n  var componentRef = useRef(null); // useEffect(() => {\n  //   fetch('http://localhost:5100/api/clients', {\n  //     headers: {\n  //       'Authorization': 'Bearer ' + localStorage.getItem('token')\n  //     }\n  //   })\n  //   .then(response => response.json())\n  //   .then(data => {\n  //     console.log('Clients fetched:', data);\n  //   })\n  //   .catch(err => {\n  //     console.error('Error fetching clients:', err);\n  //   });\n  // }, []);\n\n  var token = localStorage.getItem('token');\n\n  if (!token) {\n    console.error('Token not found in localStorage');\n    return;\n  } // Nettoyage du token pour enlever les espaces ou les sauts de ligne inattendus\n\n\n  var cleanToken = token.trim();\n  console.log(\"Token from localStorage:\", cleanToken); // Assurez-vous que ce log montre le token complet et correct\n\n  fetch('http://localhost:5100/api/clients', {\n    headers: {\n      'Authorization': \"Bearer \".concat(cleanToken)\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return console.log(data);\n  }).catch(function (err) {\n    return console.error('Error:', err);\n  }); // const addNewClient = (client) => {\n  //   setClients([...clients, { ...client, position: \"01/01/2025\", office: \"RDV en cours\", age: \"N/A\", start_date: \"N/A\", salary: \"N/A\" }]);\n  // };\n\n  var handleAddClient = function handleAddClient() {\n    console.log('Redirection to /admin/nouveauClient');\n    history.push('/admin/nouveauClient');\n  }; // const copyToClipboardAsTable = () => {\n  //   navigator.clipboard.writeText(JSON.stringify(clients))\n  //     .then(() => {\n  //       alert('Copied to clipboard successfully!');\n  //     })\n  //     .catch(err => {\n  //       alert('Failed to copy: ', err);\n  //     });\n  // };\n\n\n  var pagination = paginationFactory({\n    page: 1,\n    alwaysShowAllBtns: true,\n    //showTotal: true,\n    withFirstAndLast: false,\n    sizePerPageRenderer: function sizePerPageRenderer(_ref) {\n      var options = _ref.options,\n          currSizePerPage = _ref.currSizePerPage,\n          onSizePerPageChange = _ref.onSizePerPageChange;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dataTables_length\",\n        id: \"datatable-basic_length\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"select\", {\n        name: \"datatable-basic_length\",\n        \"aria-controls\": \"datatable-basic\",\n        className: \"form-control form-control-sm\",\n        onChange: function onChange(e) {\n          return onSizePerPageChange(e.target.value);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"10\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"25\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      }, \"25\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"50\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }\n      }, \"50\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"100\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, \"100\")), \" \"));\n    }\n  });\n  var SearchBar = Search.SearchBar;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"mt--7\",\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-0 d-flex align-items-center justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Clients\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleAddClient,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Ajouter Client\")), /*#__PURE__*/React.createElement(ToolkitProvider, {\n    data: clients,\n    keyField: \"name\",\n    columns: [{\n      dataField: \"nom\",\n      text: \"Nom\",\n      sort: true\n    }, {\n      dataField: \"prenom\",\n      text: \"Prénom\",\n      sort: true\n    }, {\n      dataField: \"email\",\n      text: \"Email\",\n      sort: true\n    }, {\n      dataField: \"telephonePortable\",\n      text: \"Téléphone Portable\",\n      sort: true\n    }, //{ dataField: \"adresse\", text: \"Adresse\", sort: true },\n    {\n      dataField: \"ville\",\n      text: \"Ville\",\n      sort: true\n    }, {\n      dataField: \"dateNaissance\",\n      text: \"Date de Naissance\",\n      sort: true\n    } //{ dataField: \"mutuelle\", text: \"Mutuelle\", sort: true },\n    //{ dataField: \"numeroSecu\", text: \"Numéro de Sécurité Sociale\", sort: true }\n    ],\n    search: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, function (props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      sm: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"buttons-copy buttons-html5\",\n      color: \"info\",\n      size: \"sm\",\n      id: \"copy-tooltip\",\n      onClick: function onClick() {\n        return navigator.clipboard.writeText(JSON.stringify(clients));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 27\n      }\n    }, \"Copier\"), /*#__PURE__*/React.createElement(ReactToPrint, {\n      trigger: function trigger() {\n        return /*#__PURE__*/React.createElement(Button, {\n          color: \"info\",\n          size: \"sm\",\n          className: \"buttons-copy buttons-html5\",\n          id: \"print-tooltip\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 31\n          }\n        }, \"Imprimer\");\n      },\n      content: function content() {\n        return componentRef.current;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      sm: 6,\n      className: \"text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, Object.assign({\n      className: \"form-control-sm\",\n      placeholder: \"Rechercher\"\n    }, props.searchProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(BootstrapTable, Object.assign({\n      ref: componentRef\n    }, props.baseProps, {\n      bootstrap4: true,\n      pagination: pagination,\n      bordered: false,\n      id: \"react-bs-table\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    })));\n  }))))));\n};\n\n_s(Tables, \"r1P7NWXO5PwgUkbSuB4hKe9wB9A=\", false, function () {\n  return [useHistory];\n});\n\n_c = Tables;\nexport default Tables;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tables\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/src/views/examples/Clients.js"],"names":["useHistory","React","useState","useRef","useEffect","Button","ButtonGroup","Card","Col","CardHeader","Container","Row","ReactToPrint","BootstrapTable","paginationFactory","ToolkitProvider","Search","Header","Tables","history","clients","setClients","componentRef","token","localStorage","getItem","console","error","cleanToken","trim","log","fetch","headers","then","response","json","data","catch","err","handleAddClient","push","pagination","page","alwaysShowAllBtns","withFirstAndLast","sizePerPageRenderer","options","currSizePerPage","onSizePerPageChange","e","target","value","SearchBar","dataField","text","sort","props","navigator","clipboard","writeText","JSON","stringify","current","searchProps","baseProps"],"mappings":"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","sourcesContent":["import { useHistory } from \"react-router-dom\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  Col,\r\n  CardHeader,\r\n  // CardFooter,\r\n  Container,\r\n  // FormGroup,\r\n  // Input,\r\n  // Label,\r\n  // Modal,\r\n  // ModalBody,\r\n  // ModalFooter,\r\n  // ModalHeader,\r\n  // Pagination,\r\n  // PaginationItem,\r\n  // PaginationLink,\r\n  Row,\r\n} from \"reactstrap\";\r\nimport ReactToPrint from \"react-to-print\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\n//import ReactBSAlert from \"react-bootstrap-sweetalert\";\r\nimport Header from \"components/Headers/Header.js\";\r\n//import { dataTable } from \"variables/general\";\r\n\r\nconst Tables = () => {\r\n  //const [modal, setModal] = useState(false);\r\n  //const toggleModal = () => setModal(!modal);\r\n  const history = useHistory();\r\n  const [clients, setClients] = useState([]);\r\n  const componentRef = useRef(null);\r\n\r\n  // useEffect(() => {\r\n  //   fetch('http://localhost:5100/api/clients', {\r\n  //     headers: {\r\n  //       'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n  //     }\r\n  //   })\r\n  //   .then(response => response.json())\r\n  //   .then(data => {\r\n  //     console.log('Clients fetched:', data);\r\n  //   })\r\n  //   .catch(err => {\r\n  //     console.error('Error fetching clients:', err);\r\n  //   });\r\n  // }, []);\r\n\r\n  const token = localStorage.getItem('token');\r\n  if (!token) {\r\n      console.error('Token not found in localStorage');\r\n      return;\r\n  }\r\n  \r\n  // Nettoyage du token pour enlever les espaces ou les sauts de ligne inattendus\r\n  const cleanToken = token.trim();\r\n  \r\n  console.log(\"Token from localStorage:\", cleanToken); // Assurez-vous que ce log montre le token complet et correct\r\n  \r\n  fetch('http://localhost:5100/api/clients', {\r\n    headers: {\r\n        'Authorization': `Bearer ${cleanToken}`\r\n    }\r\n})\r\n.then(response => response.json())\r\n.then(data => console.log(data))\r\n.catch(err => console.error('Error:', err));\r\n\r\n  \r\n\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  // const addNewClient = (client) => {\r\n  //   setClients([...clients, { ...client, position: \"01/01/2025\", office: \"RDV en cours\", age: \"N/A\", start_date: \"N/A\", salary: \"N/A\" }]);\r\n  // };\r\nconst handleAddClient = () => {\r\n  console.log('Redirection to /admin/nouveauClient');\r\n    history.push('/admin/nouveauClient');\r\n  };\r\n\r\n  // const copyToClipboardAsTable = () => {\r\n  //   navigator.clipboard.writeText(JSON.stringify(clients))\r\n  //     .then(() => {\r\n  //       alert('Copied to clipboard successfully!');\r\n  //     })\r\n  //     .catch(err => {\r\n  //       alert('Failed to copy: ', err);\r\n  //     });\r\n  // };\r\n\r\n  const pagination = paginationFactory({\r\n    page: 1,\r\n    alwaysShowAllBtns: true,\r\n    //showTotal: true,\r\n    withFirstAndLast: false,\r\n    sizePerPageRenderer: ({ options, currSizePerPage, onSizePerPageChange }) => (\r\n      <div className=\"dataTables_length\" id=\"datatable-basic_length\">\r\n        <label>\r\n          {\" \"}\r\n          {\r\n            <select\r\n              name=\"datatable-basic_length\"\r\n              aria-controls=\"datatable-basic\"\r\n              className=\"form-control form-control-sm\"\r\n              onChange={e => onSizePerPageChange(e.target.value)}\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          }{\" \"}\r\n          \r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n\r\n  const { SearchBar } = Search;\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container className=\"mt--7\" fluid>\r\n        <Row>\r\n          <div className=\"col\">\r\n            <Card className=\"shadow\">\r\n              <CardHeader className=\"border-0 d-flex align-items-center justify-content-between\">\r\n                <h3 className=\"mb-0\">Clients</h3>\r\n                {/* <Button color=\"primary\" onClick={toggleModal}>Ajouter Client</Button> */}\r\n                <Button color=\"primary\" onClick={handleAddClient}>Ajouter Client</Button>\r\n              </CardHeader>\r\n              <ToolkitProvider\r\n                data={clients}\r\n                keyField=\"name\"\r\n                columns={[\r\n                  { dataField: \"nom\", text: \"Nom\", sort: true },\r\n                  { dataField: \"prenom\", text: \"Prénom\", sort: true },\r\n                  { dataField: \"email\", text: \"Email\", sort: true },\r\n                  { dataField: \"telephonePortable\", text: \"Téléphone Portable\", sort: true },\r\n                  //{ dataField: \"adresse\", text: \"Adresse\", sort: true },\r\n                  { dataField: \"ville\", text: \"Ville\", sort: true },\r\n                  { dataField: \"dateNaissance\", text: \"Date de Naissance\", sort: true },\r\n                  //{ dataField: \"mutuelle\", text: \"Mutuelle\", sort: true },\r\n                  //{ dataField: \"numeroSecu\", text: \"Numéro de Sécurité Sociale\", sort: true }\r\n                ]}\r\n                search\r\n              >\r\n                {props => (\r\n                  <div className=\"p-4\">\r\n                    <Row>\r\n                      <Col xs={12} sm={6}>\r\n                        <ButtonGroup>\r\n                          <Button\r\n                            className=\"buttons-copy buttons-html5\"\r\n                            color=\"info\"\r\n                            size=\"sm\"\r\n                            id=\"copy-tooltip\"\r\n                            onClick={() => navigator.clipboard.writeText(JSON.stringify(clients))}\r\n                          >\r\n                            Copier\r\n                          </Button>\r\n                          <ReactToPrint\r\n                            trigger={() => (\r\n                              <Button\r\n                                color=\"info\"\r\n                                size=\"sm\"\r\n                                className=\"buttons-copy buttons-html5\"\r\n                                id=\"print-tooltip\"\r\n                              >\r\n                                Imprimer\r\n                              </Button>\r\n                            )}\r\n                            content={() => componentRef.current}\r\n                          />\r\n                        </ButtonGroup>\r\n                      </Col>\r\n                      <Col xs={12} sm={6} className=\"text-right\">\r\n                        <SearchBar className=\"form-control-sm\" placeholder=\"Rechercher\" {...props.searchProps} />\r\n                      </Col>\r\n                    </Row>\r\n                    <BootstrapTable\r\n                      ref={componentRef}\r\n                      {...props.baseProps}\r\n                      bootstrap4={true}\r\n                      pagination={pagination}\r\n                      bordered={false}\r\n                      id=\"react-bs-table\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </ToolkitProvider>\r\n            </Card>\r\n          </div>\r\n        </Row>\r\n      </Container>\r\n      {/* <AddClientModal isOpen={modal} toggle={toggleModal} onSave={addNewClient} /> */}\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Tables;\r\n"]},"metadata":{},"sourceType":"module"}