{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Projet Code\\\\Ouieqare-MERN - Copie\\\\front-end\\\\src\\\\components\\\\Navbars\\\\AdminNavbar.js\";\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\"; // reactstrap components\n\nimport { DropdownMenu, DropdownItem, UncontrolledDropdown, DropdownToggle, Form, FormGroup, InputGroupAddon, InputGroupText, Input, InputGroup, Navbar, Nav, Container, Media } from \"reactstrap\";\nimport { logout } from \"../../network/ApiAxios\";\n\nvar AdminNavbar = function AdminNavbar(props) {\n  var username = JSON.parse(localStorage.getItem(\"user\")).name; // const logOut = async () => {\n  //     const token = localStorage.getItem(\"token\");\n  //     if (token) {\n  //         const response = await logout(token);\n  //         const { data } = response;\n  //         if (data.success) {\n  //             localStorage.removeItem(\"token\");\n  //             localStorage.removeItem(\"user\");\n  //             props.history.push(\"/auth/login\");\n  //         }else {\n  //             console.error(\"Échec de la déconnexion\");\n  //         }\n  //     }\n  // }\n  // const logOut = async (e) => {\n  //     e.preventDefault();\n  //     console.log(\"Logout clicked\");  // Ajoutez ceci pour tester si le clic fonctionne\n  //     const token = localStorage.getItem(\"token\");\n  //     if (token) {\n  //         const response = await logout(token);\n  //         const { data } = response;\n  //         if (data.success) {\n  //             localStorage.removeItem(\"token\");\n  //             localStorage.removeItem(\"user\");\n  //             props.history.push(\"/auth/login\");\n  //         } else {\n  //             console.error(\"Échec de la déconnexion\");\n  //         }\n  //     }\n  // }\n\n  var logOut = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var token, response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              token = localStorage.getItem(\"token\");\n\n              if (!token) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 5;\n              return logout(token);\n\n            case 5:\n              response = _context.sent;\n              data = response.data;\n\n              if (data.success) {\n                localStorage.removeItem(\"token\");\n                localStorage.removeItem(\"user\");\n                props.history.push(\"/auth/login\");\n              } else {\n                console.error(\"Échec de la déconnexion\");\n              }\n\n            case 8:\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Erreur lors de la déconnexion:\", _context.t0); // Vous pouvez ici gérer des actions en cas d'erreur, comme afficher un message à l'utilisateur\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function logOut() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    className: \"navbar-top navbar-dark\",\n    expand: \"md\",\n    id: \"navbar-main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block\",\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, props.brandText), /*#__PURE__*/React.createElement(Form, {\n    className: \"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"input-group-alternative\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Search\",\n    type: \"text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Nav, {\n    className: \"align-items-center d-none d-md-flex\",\n    navbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    nav: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    className: \"pr-0\",\n    nav: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    className: \"align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"avatar avatar-sm rounded-circle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"...\",\n    src: require(\"assets/img/theme/sketch.jpg\").default,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Media, {\n    className: \"ml-2 d-none d-lg-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mb-0 text-sm font-weight-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 23\n    }\n  }, username)))), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdown-menu-arrow\",\n    right: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    className: \"noti-title\",\n    header: true,\n    tag: \"div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-overflow m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }, \"Bienvenue!\")), /*#__PURE__*/React.createElement(DropdownItem, {\n    to: \"/admin/user-profile\",\n    tag: Link,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-single-02\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, \"Mon profil\")), /*#__PURE__*/React.createElement(DropdownItem, {\n    to: \"/admin/user-profile\",\n    tag: Link,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-settings-gear-65\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }, \"Param\\xE8tres\")), /*#__PURE__*/React.createElement(DropdownItem, {\n    to: \"/admin/user-profile\",\n    tag: Link,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-calendar-grid-58\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  }, \"Activit\\xE9\")), /*#__PURE__*/React.createElement(DropdownItem, {\n    to: \"/admin/user-profile\",\n    tag: Link,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-support-16\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, \"Support\")), /*#__PURE__*/React.createElement(DropdownItem, {\n    divider: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(DropdownItem, {\n    href: \"#!\",\n    onClick: logOut,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-user-run\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, \"Deconnexion\"))))))));\n};\n\n_c = AdminNavbar;\nexport default AdminNavbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminNavbar\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Projet Code/Ouieqare-MERN - Copie/front-end/src/components/Navbars/AdminNavbar.js"],"names":["React","Link","DropdownMenu","DropdownItem","UncontrolledDropdown","DropdownToggle","Form","FormGroup","InputGroupAddon","InputGroupText","Input","InputGroup","Navbar","Nav","Container","Media","logout","AdminNavbar","props","username","JSON","parse","localStorage","getItem","name","logOut","token","response","data","success","removeItem","history","push","console","error","brandText","require","default"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Link} from \"react-router-dom\";\n// reactstrap components\nimport {\n    DropdownMenu,\n    DropdownItem,\n    UncontrolledDropdown,\n    DropdownToggle,\n    Form,\n    FormGroup,\n    InputGroupAddon,\n    InputGroupText,\n    Input,\n    InputGroup,\n    Navbar,\n    Nav,\n    Container,\n    Media\n} from \"reactstrap\";\nimport {logout} from \"../../network/ApiAxios\";\n\nconst AdminNavbar = props => {\n\n    let username = JSON.parse(localStorage.getItem(\"user\")).name;\n\n    // const logOut = async () => {\n    //     const token = localStorage.getItem(\"token\");\n    //     if (token) {\n    //         const response = await logout(token);\n    //         const { data } = response;\n    //         if (data.success) {\n    //             localStorage.removeItem(\"token\");\n    //             localStorage.removeItem(\"user\");\n    //             props.history.push(\"/auth/login\");\n    //         }else {\n    //             console.error(\"Échec de la déconnexion\");\n    //         }\n    //     }\n    // }\n\n    // const logOut = async (e) => {\n    //     e.preventDefault();\n    //     console.log(\"Logout clicked\");  // Ajoutez ceci pour tester si le clic fonctionne\n    //     const token = localStorage.getItem(\"token\");\n    //     if (token) {\n    //         const response = await logout(token);\n    //         const { data } = response;\n    //         if (data.success) {\n    //             localStorage.removeItem(\"token\");\n    //             localStorage.removeItem(\"user\");\n    //             props.history.push(\"/auth/login\");\n    //         } else {\n    //             console.error(\"Échec de la déconnexion\");\n    //         }\n    //     }\n    // }\n    const logOut = async () => {\n        try {\n            const token = localStorage.getItem(\"token\");\n            if (token) {\n                const response = await logout(token);\n                const { data } = response;\n                if (data.success) {\n                    localStorage.removeItem(\"token\");\n                    localStorage.removeItem(\"user\");\n                    props.history.push(\"/auth/login\");\n                } else {\n                    console.error(\"Échec de la déconnexion\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Erreur lors de la déconnexion:\", error);\n            // Vous pouvez ici gérer des actions en cas d'erreur, comme afficher un message à l'utilisateur\n        }\n    }\n    \n    \n\n    return (\n        <>\n            <Navbar className=\"navbar-top navbar-dark\" expand=\"md\" id=\"navbar-main\">\n                <Container fluid>\n                    <Link\n                        className=\"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block\"\n                        to=\"/\"\n                    >\n                        {props.brandText}\n                    </Link>\n                    <Form className=\"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto\">\n                        <FormGroup className=\"mb-0\">\n                            <InputGroup className=\"input-group-alternative\">\n                                <InputGroupAddon addonType=\"prepend\">\n                                    <InputGroupText>\n                                        <i className=\"fas fa-search\"/>\n                                    </InputGroupText>\n                                </InputGroupAddon>\n                                <Input placeholder=\"Search\" type=\"text\"/>\n                            </InputGroup>\n                        </FormGroup>\n                    </Form>\n                    <Nav className=\"align-items-center d-none d-md-flex\" navbar>\n                        <UncontrolledDropdown nav>\n                            <DropdownToggle className=\"pr-0\" nav>\n                                <Media className=\"align-items-center\">\n                    <span className=\"avatar avatar-sm rounded-circle\">\n                      <img\n                          alt=\"...\"\n                          src={require(\"assets/img/theme/sketch.jpg\").default}\n                      />\n                    </span>\n                                    <Media className=\"ml-2 d-none d-lg-block\">\n                      <span className=\"mb-0 text-sm font-weight-bold\">\n                          {username}\n                      </span>\n                                    </Media>\n                                </Media>\n                            </DropdownToggle>\n                            <DropdownMenu className=\"dropdown-menu-arrow\" right>\n                                <DropdownItem className=\"noti-title\" header tag=\"div\">\n                                    <h6 className=\"text-overflow m-0\">Bienvenue!</h6>\n                                </DropdownItem>\n                                <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                                    <i className=\"ni ni-single-02\"/>\n                                    <span>Mon profil</span>\n                                </DropdownItem>\n                                <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                                    <i className=\"ni ni-settings-gear-65\"/>\n                                    <span>Paramètres</span>\n                                </DropdownItem>\n                                <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                                    <i className=\"ni ni-calendar-grid-58\"/>\n                                    <span>Activité</span>\n                                </DropdownItem>\n                                <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                                    <i className=\"ni ni-support-16\"/>\n                                    <span>Support</span>\n                                </DropdownItem>\n                                <DropdownItem divider/>\n                                <DropdownItem href=\"#!\" onClick={logOut}>\n                                    <i className=\"ni ni-user-run\"/>\n                                    <span>Deconnexion</span>\n                                </DropdownItem>\n                            </DropdownMenu>\n                        </UncontrolledDropdown>\n                    </Nav>\n                </Container>\n            </Navbar>\n        </>\n    );\n};\n\nexport default AdminNavbar;\n"]},"metadata":{},"sourceType":"module"}